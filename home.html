<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HOME</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            padding: 20px;
        }
        .container {
            margin: 20px;
            max-width: 600px;
            padding: 20px;
            border: 1px solid #ccc;
            border-radius: 8px;
        }
        .button {
            padding: 10px 20px;
            font-size: 16px;
            cursor: pointer;
        }
        .timer {
            font-size: 18px;
            font-weight: bold;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>WELCOME TO YOUR  HOME PAGE </h1>
    <div class="timer" id="timer"></div>
    <br><br>
    <button class="button" onclick="redirectToUrl()">OPEN GAME PAGE âœ…</button>
</div>

<script>
    // Check if the user is logged in and if the session is still valid
    window.onload = function() {
        const expirationTime = localStorage.getItem('expirationTime');
        if (!expirationTime || Date.now() > expirationTime) {
            window.location.href = 'login.html'; // Redirect to login page if session expired
            return;
        }

        // Calculate and display the remaining time
        const remainingTime = expirationTime - Date.now();
        if (remainingTime <= 0) {
            window.location.href = 'login.html'; // Redirect to login page if expired
            return;
        }

        startTimer(remainingTime);
    };

    function startTimer(remainingTime) {
        const timerElement = document.getElementById('timer');
        
        const interval = setInterval(() => {
            const remainingSeconds = Math.floor(remainingTime / 1000);
            const minutes = Math.floor(remainingSeconds / 60);
            const seconds = remainingSeconds % 60;

            timerElement.innerText = `Time left: ${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
            
            remainingTime -= 1000;
            if (remainingTime <= 0) {
                clearInterval(interval);
                window.location.href = 'login.html'; // Redirect to login page if time expired
            }
        }, 1000);
    }

    function redirectToUrl() {
        window.location.href = 'https://jscki.github.io/VIP-HACK/home.html';
    }
</script>

</body>
</html>
